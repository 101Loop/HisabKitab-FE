<!doctype html>
<html lang="en">

<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-N3XRXB3');</script>
  <!-- End Google Tag Manager -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <title>Hisab Kitab | Easiest way to track Money Flow</title>
  <base href="/">
  <meta charset="UTF-8">
  <meta name="description" content="Easiest way to track Money Flow">
  <meta name="keywords" content="Hisab, Kitab, Vitartha, Money, Management, Flow, Flow of Money, Transactions, Personal, Accounting">
  <meta name="author" content="Vitartha LLP">
  <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
  <link rel="icon" type="image/x-icon" href="assets/images/hissab-kitab.png">
  <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <meta name="theme-color" content="#1976d2">

  <meta name="subject" content="Money Management">
  <meta name="copyright"content="Vitartha LLP">
  <meta name="revised" content="Thursday, July 19th, 2018, 5:15 pm" />
  <meta name="topic" content="Finance">
  <meta name="summary" content="Hisab Kitab | Easiest way to track Money Flow | Money Management">
  <meta name="Classification" content="Application">
  <meta name="author" content="Vitartha LLP, info@vitartha.com">
  <meta name="reply-to" content="info@vitartha.com">
  <meta name="owner" content="Vitartha LLP">
  <meta name="url" content="https://hisabkitab.in">
  <meta name="identifier-URL" content="https://hisabkitab.in">
  <meta name="category" content="Application">
  <meta name="coverage" content="Worldwide">
  <meta name="distribution" content="Global">
  <meta name="rating" content="General">

  <!-- Google meta tags -->
  <meta name="google-site-verification" content="LOyav7yIhzKqr7YXjm2TswrigXL-C04zhHDYp_3_oP4" />

  <meta name="description" content="Easiest way to track Money Flow" />
  <meta http-equiv="Content-Type" content="Easiest way to track Money Flow" charset="UTF-8" />
  <meta name="robots" content="Hisab Kitab | Easiest way to track Money Flow">
  <meta name="googlebot" content="Hisab Kitab | Easiest way to track Money Flow" />
  <meta name="google" content="nositelinkssearchbox"/>

  <!-- Facebook meta tags -->
  <meta property="og:url" content="https://hisabkitab.in" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Hisab Kitab" />
  <meta property="og:description" content="Easiest way to track Money Flow" />
  <meta property="og:image" content="https://hisabkitab.in/assets/images/hissab-kitab.png" />

  <!-- Twitter meta tags -->
  <meta name="twitter:card" content="app" />
  <meta name="twitter:site" content="@vitartha" />
  <meta name="twitter:creator" content="@vitartha" />

  <!-- Firebase App is always required and must be first -->
  <script src="//www.gstatic.com/firebasejs/5.4.1/firebase-app.js"></script>

  <script src="//www.gstatic.com/firebasejs/5.4.1/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyBFQpjo2qFjDSDEQrSBbYvOPuZvquVV6UM",
      authDomain: "hisabkitabin.firebaseapp.com",
      databaseURL: "https://hisabkitabin.firebaseio.com",
      projectId: "hisabkitabin",
      storageBucket: "hisabkitabin.appspot.com",
      messagingSenderId: "1011998306961"
    };
    firebase.initializeApp(config);
    // Retrieve Firebase Messaging object.
    const messaging = firebase.messaging();

    messaging.requestPermission().then(function() {
      // console.log('Notification permission granted.');
      return messaging.getToken();
    })
      .then(function (token) {
        var fcm = token;
        // console.log('Token:'+ fcm);
        // document.getElementById("FCMtoken").innerHTML = fcm;
        localStorage.setItem('FCM_key', fcm);
        // console.log('local:'+fcm);

      })
      .catch(function(err) {
        // console.log('Unable to get permission to notify.', err);
      });

    messaging.onMessage(function (payload) {
      // console.log('onMessage', payload);

    });

    // Get Instance ID token. Initially this makes a network call, once retrieved
    // subsequent calls to getToken will return from cache.
    messaging.getToken().then(function(currentToken) {
      if (currentToken) {
        //sendTokenToServer(currentToken);
        // FCMnotification(currentToken);
      } else {
        // Show permission request.
        //  console.log('No Instance ID token available. Request permission to generate one.');
        // Show permission UI.
        setTokenSentToServer(false);
      }
    }).catch(function(err) {
      // console.log('An error occurred while retrieving token. ', err);
      //showToken('Error retrieving Instance ID token. ', err);
      setTokenSentToServer(false);
    });

    // Callback fired if Instance ID token is updated.
    messaging.onTokenRefresh(function() {
      messaging.getToken().then(function(refreshedToken) {
        // console.log('Token refreshed.');
        // Indicate that the new Instance ID token has not yet been sent to the
        // app server.
        setTokenSentToServer(false);
        // Send Instance ID token to app server.
        sendTokenToServer(refreshedToken);
        // ...
      }).catch(function(err) {
        //console.log('Unable to retrieve refreshed token ', err);
        // showToken('Unable to retrieve refreshed token ', err);
      });
    });

    // Send the Instance ID token your application server, so that it can:
    // - send messages back to this app
    // - subscribe/unsubscribe the token from topics
    function sendTokenToServer(currentToken) {
      if (!isTokenSentToServer()) {
        //  console.log('Sending token to server...');
        // TODO(developer): Send the current token to your server.
        setTokenSentToServer(true);
      } else {
        // console.log('Token already sent to server so won\'t send it again ' +
        //   'unless it changes');
      }
    }
    function isTokenSentToServer() {
      return window.localStorage.getItem('sentToServer') === '1';
    }
    function setTokenSentToServer(sent) {
      window.localStorage.setItem('sentToServer', sent ? '1' : '0');
    }
  </script>

  <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "WebApplication",
        "applicationCategory": "Finance",
        "applicationSubCategory": "Money Management",
        "softwareVersion": "2015-10-07T12:02:41Z",
        "about": "Hisab Kitab is a finance software that one can use to easily track money flow.",
        "operatingSystem": "All",
        "aggregateRating": {
          "@type": "AggregateRating",
          "bestRating": "5",
          "ratingCount": "12",
          "ratingValue": "4.7"
        },
        "author": {
          "@type": "Organization",
          "url": "https://www.vitartha.com",
          "name": "Vitartha LLP",
          "logo": "https://vitartha.com/assets/images/favicon.ico",
          "sameAs": [
            "https://www.facebook.com/vitarthaa",
            "https://instagram.com/vitarthaa",
            "https://in.linkedin.com/company/vitartha",
            "https://plus.google.com/+Vitartha"
          ]
        }
      }
    </script>

</head>

<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N3XRXB3"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<app-root></app-root>

</body>

</html>
